# 正则表达式

## 定义

**(1) 使用用字面量**

    var regex = /xyz/;
    var regex = /xyz/i;

**(2) 也可以用构造函数**

    var regex = new RegExp('xyz');
    var regex = new RegExp('xyz', "i"); // 第二个参数表示修饰符
    
## 匹配规则

### 字面量字符

就是字面的含义，比如`/a/`匹配`a`。

### 元字符

除了字面量字符以外，还有一部分字符有特殊含义，不代表字面的意思。它们叫做“元字符”。

* `.` 匹配除回车（\r）、换行(\n)、行分隔符（\u2028）和段分隔符（\u2029）以外的所有字符
* `^` 表示字符串的起首
* `$` 表示字符串的行尾
* `|` 表示“或关系”

### 字符类

字符类（class）表示有一系列字符可供选择，只要匹配其中一个就可以了。所有可供选择的字符都放在方括号内。

有两个字符在字符类中有特殊含义

* `^` 表示除了字符类之中的字符，其他字符都可以匹配
* `-` 表示字符的连续范围

### 重复类

* {n,m} 重复不少于n次，不多于m次
* {n,} 至少重复n次
* {n} 重复n次


### 量词符

* `?` 0次或1次
* `+` 在于等于1次
* `*` 在于等于0次

星号（*）和加号（+）还有非贪婪模式的版本

* `*?` 表示某个模式出现0次或多次，匹配时采用非贪婪模式。
* `+?` 表示某个模式出现1次或多次，匹配时采用非贪婪模式。

### 转义符

正则表达式中那些有特殊含义的字符，如果要匹配它们本身，就需要在它们前面要加上反斜杠。

正则模式中，需要用斜杠转义的，一共有12个字符：^、.、[、$、(、)、|、*、+、?、{和 \。需要特别注意的是，如果使用RegExp方法生成正则对象，转义需要使用两个斜杠，因为字符串内部会先转义一次。

### 修饰符

* `i` 不区分大小写
* `g` 默认情况下，第一次匹配成功后，正则对象就停止向下匹配了。g修饰符表示全局匹配（global），加上它以后，正则对象将匹配全部符合条件的结果，主要用于搜索和替换。
* `m` 字符串的头部或尾部可能会有换行符。默认情况下，正则对象会将换行符算入字符串的开头或结尾。m修饰符表示多行模式（multiline），加上它以后，正则对象会忽略字符串头部或尾部的换行符，即^和$会忽略换行符。

### 预定义模式

预定义模式指的是某些常见模式的简写方式。

* `\d` 匹配0-9之间的任一数字，相当于[0-9]。
* `\D` 匹配所有0-9以外的字符，相当于[^0-9]。
* `\w` 匹配任意的字母、数字和下划线，相当于[A-Za-z0-9_]。
* `\W` 除所有字母、数字和下划线以外的字符，相当于/[^A-Za-z0-9_]/ 。
* `\s` 匹配空格（包括制表符、空格符、断行符等），相等于[\t\r\n\v\f]。
* `\S` 匹配非空格的字符，相当于[^\t\r\n\v\f]。
* `\b` 匹配词的边界。
* `\B` 匹配非词边界，即在词的内部。

特殊字符

组匹配